<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>Agda.Builtin.Nat</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Symbol" id="1">{-#</a> <a class="Keyword" id="5">OPTIONS</a> <a class="Pragma" id="13">--cubical-compatible</a> <a class="Pragma" id="34">--safe</a> <a class="Pragma" id="41">--no-universe-polymorphism</a>
            <a class="Pragma" id="80">--no-sized-types</a> <a class="Pragma" id="97">--no-guardedness</a> <a class="Symbol" id="114">#-}</a>

<a class="Keyword" id="119">module</a> <a class="Module" href="Agda.Builtin.Nat.html" id="126">Agda.Builtin.Nat</a> <a class="Keyword" id="143">where</a>

<a class="Keyword" id="150">open</a> <a class="Keyword" id="155">import</a> <a class="Module" href="Agda.Builtin.Bool.html" id="162">Agda.Builtin.Bool</a>

<a class="Keyword" id="181">data</a> <a id="Nat"></a><a class="Datatype" href="Agda.Builtin.Nat.html#186" id="186">Nat</a> <a class="Symbol" id="190">:</a> <a class="Primitive" href="Agda.Primitive.html#320" id="192">Set</a> <a class="Keyword" id="196">where</a>
  <a id="Nat.zero"></a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="204">zero</a> <a class="Symbol" id="209">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="211">Nat</a>
  <a id="Nat.suc"></a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="217">suc</a>  <a class="Symbol" id="222">:</a> <a class="Symbol" id="224">(</a><a class="Bound" href="Agda.Builtin.Nat.html#225" id="225">n</a> <a class="Symbol" id="227">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="229">Nat</a><a class="Symbol" id="232">)</a> <a class="Symbol" id="234">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="236">Nat</a>

<a class="Symbol" id="241">{-#</a> <a class="Keyword" id="245">BUILTIN</a> <a class="Keyword" id="253">NATURAL</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="261">Nat</a> <a class="Symbol" id="265">#-}</a>

<a class="Keyword" id="270">infix</a>  <a class="Number" id="277">4</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#614" id="279">_==_</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#740" id="284">_&lt;_</a>
<a class="Keyword" id="288">infixl</a> <a class="Number" id="295">6</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#319" id="297">_+_</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#409" id="301">_-_</a>
<a class="Keyword" id="305">infixl</a> <a class="Number" id="312">7</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#522" id="314">_*_</a>

<a id="_+_"></a><a class="Function Operator" href="Agda.Builtin.Nat.html#319" id="319">_+_</a> <a class="Symbol" id="323">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="325">Nat</a> <a class="Symbol" id="329">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="331">Nat</a> <a class="Symbol" id="335">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="337">Nat</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="341">zero</a>  <a class="Function Operator" href="Agda.Builtin.Nat.html#319" id="347">+</a> <a class="Bound" href="Agda.Builtin.Nat.html#349" id="349">m</a> <a class="Symbol" id="351">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#349" id="353">m</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="355">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#359" id="359">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#319" id="361">+</a> <a class="Bound" href="Agda.Builtin.Nat.html#363" id="363">m</a> <a class="Symbol" id="365">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="367">suc</a> <a class="Symbol" id="371">(</a><a class="Bound" href="Agda.Builtin.Nat.html#359" id="372">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#319" id="374">+</a> <a class="Bound" href="Agda.Builtin.Nat.html#363" id="376">m</a><a class="Symbol" id="377">)</a>

<a class="Symbol" id="380">{-#</a> <a class="Keyword" id="384">BUILTIN</a> <a class="Keyword" id="392">NATPLUS</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#319" id="400">_+_</a> <a class="Symbol" id="404">#-}</a>

<a id="_-_"></a><a class="Function Operator" href="Agda.Builtin.Nat.html#409" id="409">_-_</a> <a class="Symbol" id="413">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="415">Nat</a> <a class="Symbol" id="419">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="421">Nat</a> <a class="Symbol" id="425">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="427">Nat</a>
<a class="Bound" href="Agda.Builtin.Nat.html#431" id="431">n</a>     <a class="Function Operator" href="Agda.Builtin.Nat.html#409" id="437">-</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="439">zero</a> <a class="Symbol" id="444">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#431" id="446">n</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="448">zero</a>  <a class="Function Operator" href="Agda.Builtin.Nat.html#409" id="454">-</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="456">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#460" id="460">m</a> <a class="Symbol" id="462">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="464">zero</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="469">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#473" id="473">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#409" id="475">-</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="477">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#481" id="481">m</a> <a class="Symbol" id="483">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#473" id="485">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#409" id="487">-</a> <a class="Bound" href="Agda.Builtin.Nat.html#481" id="489">m</a>

<a class="Symbol" id="492">{-#</a> <a class="Keyword" id="496">BUILTIN</a> <a class="Keyword" id="504">NATMINUS</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#409" id="513">_-_</a> <a class="Symbol" id="517">#-}</a>

<a id="_*_"></a><a class="Function Operator" href="Agda.Builtin.Nat.html#522" id="522">_*_</a> <a class="Symbol" id="526">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="528">Nat</a> <a class="Symbol" id="532">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="534">Nat</a> <a class="Symbol" id="538">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="540">Nat</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="544">zero</a>  <a class="Function Operator" href="Agda.Builtin.Nat.html#522" id="550">*</a> <a class="Bound" href="Agda.Builtin.Nat.html#552" id="552">m</a> <a class="Symbol" id="554">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="556">zero</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="561">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#565" id="565">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#522" id="567">*</a> <a class="Bound" href="Agda.Builtin.Nat.html#569" id="569">m</a> <a class="Symbol" id="571">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#569" id="573">m</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#319" id="575">+</a> <a class="Bound" href="Agda.Builtin.Nat.html#565" id="577">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#522" id="579">*</a> <a class="Bound" href="Agda.Builtin.Nat.html#569" id="581">m</a>

<a class="Symbol" id="584">{-#</a> <a class="Keyword" id="588">BUILTIN</a> <a class="Keyword" id="596">NATTIMES</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#522" id="605">_*_</a> <a class="Symbol" id="609">#-}</a>

<a id="_==_"></a><a class="Function Operator" href="Agda.Builtin.Nat.html#614" id="614">_==_</a> <a class="Symbol" id="619">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="621">Nat</a> <a class="Symbol" id="625">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="627">Nat</a> <a class="Symbol" id="631">→</a> <a class="Datatype" href="Agda.Builtin.Bool.html#156" id="633">Bool</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="638">zero</a>  <a class="Function Operator" href="Agda.Builtin.Nat.html#614" id="644">==</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="647">zero</a>  <a class="Symbol" id="653">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Bool.html#181" id="655">true</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="660">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#664" id="664">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#614" id="666">==</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="669">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#673" id="673">m</a> <a class="Symbol" id="675">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#664" id="677">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#614" id="679">==</a> <a class="Bound" href="Agda.Builtin.Nat.html#673" id="682">m</a>
<a class="CatchallClause Symbol" id="684">_</a><a class="CatchallClause" id="685">     </a><a class="CatchallClause Function Operator" href="Agda.Builtin.Nat.html#614" id="690">==</a><a class="CatchallClause" id="692"> </a><a class="CatchallClause Symbol" id="693">_</a>     <a class="Symbol" id="699">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Bool.html#175" id="701">false</a>

<a class="Symbol" id="708">{-#</a> <a class="Keyword" id="712">BUILTIN</a> <a class="Keyword" id="720">NATEQUALS</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#614" id="730">_==_</a> <a class="Symbol" id="735">#-}</a>

<a id="_&lt;_"></a><a class="Function Operator" href="Agda.Builtin.Nat.html#740" id="740">_&lt;_</a> <a class="Symbol" id="744">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="746">Nat</a> <a class="Symbol" id="750">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="752">Nat</a> <a class="Symbol" id="756">→</a> <a class="Datatype" href="Agda.Builtin.Bool.html#156" id="758">Bool</a>
<a class="Symbol" id="763">_</a>     <a class="Function Operator" href="Agda.Builtin.Nat.html#740" id="769">&lt;</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="771">zero</a>  <a class="Symbol" id="777">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Bool.html#175" id="779">false</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="785">zero</a>  <a class="Function Operator" href="Agda.Builtin.Nat.html#740" id="791">&lt;</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="793">suc</a> <a class="Symbol" id="797">_</a> <a class="Symbol" id="799">=</a> <a class="InductiveConstructor" href="Agda.Builtin.Bool.html#181" id="801">true</a>
<a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="806">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#810" id="810">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#740" id="812">&lt;</a> <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="814">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#818" id="818">m</a> <a class="Symbol" id="820">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#810" id="822">n</a> <a class="Function Operator" href="Agda.Builtin.Nat.html#740" id="824">&lt;</a> <a class="Bound" href="Agda.Builtin.Nat.html#818" id="826">m</a>

<a class="Symbol" id="829">{-#</a> <a class="Keyword" id="833">BUILTIN</a> <a class="Keyword" id="841">NATLESS</a> <a class="Primitive Operator" href="Agda.Builtin.Nat.html#740" id="849">_&lt;_</a> <a class="Symbol" id="853">#-}</a>

<a class="Comment" id="858">-- Helper function  div-helper  for Euclidean division.</a>
<a class="Comment" id="914">---------------------------------------------------------------------------</a>
<a class="Comment" id="990">--</a>
<a class="Comment" id="993">-- div-helper computes n / 1+m via iteration on n.</a>
<a class="Comment" id="1044">--</a>
<a class="Comment" id="1047">--   n div (suc m) = div-helper 0 m n m</a>
<a class="Comment" id="1087">--</a>
<a class="Comment" id="1090">-- The state of the iterator has two accumulator variables:</a>
<a class="Comment" id="1150">--</a>
<a class="Comment" id="1153">--   k: The quotient, returned once n=0.  Initialized to 0.</a>
<a class="Comment" id="1213">--</a>
<a class="Comment" id="1216">--   j: A counter, initialized to the divisor m, decreased on each iteration step.</a>
<a class="Comment" id="1299">--      Once it reaches 0, the quotient k is increased and j reset to m,</a>
<a class="Comment" id="1372">--      starting the next countdown.</a>
<a class="Comment" id="1409">--</a>
<a class="Comment" id="1412">-- Under the precondition j ≤ m, the invariant is</a>
<a class="Comment" id="1462">--</a>
<a class="Comment" id="1465">--   div-helper k m n j = k + (n + m - j) div (1 + m)</a>

<a id="div-helper"></a><a class="Function" href="Agda.Builtin.Nat.html#1520" id="1520">div-helper</a> <a class="Symbol" id="1531">:</a> <a class="Symbol" id="1533">(</a><a class="Bound" href="Agda.Builtin.Nat.html#1534" id="1534">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#1536" id="1536">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#1538" id="1538">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#1540" id="1540">j</a> <a class="Symbol" id="1542">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="1544">Nat</a><a class="Symbol" id="1547">)</a> <a class="Symbol" id="1549">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="1551">Nat</a>
<a class="Function" href="Agda.Builtin.Nat.html#1520" id="1555">div-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#1566" id="1566">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#1568" id="1568">m</a>  <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="1571">zero</a>    <a class="Bound" href="Agda.Builtin.Nat.html#1579" id="1579">j</a>      <a class="Symbol" id="1586">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#1566" id="1588">k</a>
<a class="Function" href="Agda.Builtin.Nat.html#1520" id="1590">div-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#1601" id="1601">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#1603" id="1603">m</a> <a class="Symbol" id="1605">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="1606">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#1610" id="1610">n</a><a class="Symbol" id="1611">)</a>  <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="1614">zero</a>   <a class="Symbol" id="1621">=</a> <a class="Function" href="Agda.Builtin.Nat.html#1520" id="1623">div-helper</a> <a class="Symbol" id="1634">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="1635">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#1601" id="1639">k</a><a class="Symbol" id="1640">)</a> <a class="Bound" href="Agda.Builtin.Nat.html#1603" id="1642">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#1610" id="1644">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#1603" id="1646">m</a>
<a class="Function" href="Agda.Builtin.Nat.html#1520" id="1648">div-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#1659" id="1659">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#1661" id="1661">m</a> <a class="Symbol" id="1663">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="1664">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#1668" id="1668">n</a><a class="Symbol" id="1669">)</a> <a class="Symbol" id="1671">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="1672">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#1676" id="1676">j</a><a class="Symbol" id="1677">)</a> <a class="Symbol" id="1679">=</a> <a class="Function" href="Agda.Builtin.Nat.html#1520" id="1681">div-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#1659" id="1692">k</a>       <a class="Bound" href="Agda.Builtin.Nat.html#1661" id="1700">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#1668" id="1702">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#1676" id="1704">j</a>

<a class="Symbol" id="1707">{-#</a> <a class="Keyword" id="1711">BUILTIN</a> <a class="Keyword" id="1719">NATDIVSUCAUX</a> <a class="Primitive" href="Agda.Builtin.Nat.html#1520" id="1732">div-helper</a> <a class="Symbol" id="1743">#-}</a>

<a class="Comment" id="1748">-- Proof of the invariant by induction on n.</a>
<a class="Comment" id="1793">--</a>
<a class="Comment" id="1796">--   clause 1: div-helper k m 0 j</a>
<a class="Comment" id="1830">--           = k                                        by definition</a>
<a class="Comment" id="1900">--           = k + (0 + m - j) div (1 + m)              since m - j &lt; 1 + m</a>
<a class="Comment" id="1976">--</a>
<a class="Comment" id="1979">--   clause 2: div-helper k m (1 + n) 0</a>
<a class="Comment" id="2019">--           = div-helper (1 + k) m n m                 by definition</a>
<a class="Comment" id="2089">--           = 1 + k + (n + m - m) div (1 + m)          by induction hypothesis</a>
<a class="Comment" id="2169">--           = 1 + k +          n  div (1 + m)          by simplification</a>
<a class="Comment" id="2243">--           = k +   (n + (1 + m)) div (1 + m)          by expansion</a>
<a class="Comment" id="2312">--           = k + (1 + n + m - 0) div (1 + m)          by expansion</a>
<a class="Comment" id="2381">--</a>
<a class="Comment" id="2384">--   clause 3: div-helper k m (1 + n) (1 + j)</a>
<a class="Comment" id="2430">--           = div-helper k m n j                       by definition</a>
<a class="Comment" id="2500">--           = k + (n + m - j) div (1 + m)              by induction hypothesis</a>
<a class="Comment" id="2580">--           = k + ((1 + n) + m - (1 + j)) div (1 + m)  by expansion</a>
<a class="Comment" id="2649">--</a>
<a class="Comment" id="2652">-- Q.e.d.</a>

<a class="Comment" id="2663">-- Helper function  mod-helper  for the remainder computation.</a>
<a class="Comment" id="2726">---------------------------------------------------------------------------</a>
<a class="Comment" id="2802">--</a>
<a class="Comment" id="2805">-- (Analogous to div-helper.)</a>
<a class="Comment" id="2835">--</a>
<a class="Comment" id="2838">-- mod-helper computes n % 1+m via iteration on n.</a>
<a class="Comment" id="2889">--</a>
<a class="Comment" id="2892">--   n mod (suc m) = mod-helper 0 m n m</a>
<a class="Comment" id="2932">--</a>
<a class="Comment" id="2935">-- The invariant is:</a>
<a class="Comment" id="2956">--</a>
<a class="Comment" id="2959">--   m = k + j  ==&gt;  mod-helper k m n j = (n + k) mod (1 + m).</a>

<a id="mod-helper"></a><a class="Function" href="Agda.Builtin.Nat.html#3023" id="3023">mod-helper</a> <a class="Symbol" id="3034">:</a> <a class="Symbol" id="3036">(</a><a class="Bound" href="Agda.Builtin.Nat.html#3037" id="3037">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#3039" id="3039">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#3041" id="3041">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#3043" id="3043">j</a> <a class="Symbol" id="3045">:</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="3047">Nat</a><a class="Symbol" id="3050">)</a> <a class="Symbol" id="3052">→</a> <a class="Datatype" href="Agda.Builtin.Nat.html#186" id="3054">Nat</a>
<a class="Function" href="Agda.Builtin.Nat.html#3023" id="3058">mod-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#3069" id="3069">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#3071" id="3071">m</a>  <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="3074">zero</a>    <a class="Bound" href="Agda.Builtin.Nat.html#3082" id="3082">j</a>      <a class="Symbol" id="3089">=</a> <a class="Bound" href="Agda.Builtin.Nat.html#3069" id="3091">k</a>
<a class="Function" href="Agda.Builtin.Nat.html#3023" id="3093">mod-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#3104" id="3104">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#3106" id="3106">m</a> <a class="Symbol" id="3108">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="3109">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#3113" id="3113">n</a><a class="Symbol" id="3114">)</a>  <a class="InductiveConstructor" href="Agda.Builtin.Nat.html#204" id="3117">zero</a>   <a class="Symbol" id="3124">=</a> <a class="Function" href="Agda.Builtin.Nat.html#3023" id="3126">mod-helper</a> <a class="Number" id="3137">0</a>       <a class="Bound" href="Agda.Builtin.Nat.html#3106" id="3145">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#3113" id="3147">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#3106" id="3149">m</a>
<a class="Function" href="Agda.Builtin.Nat.html#3023" id="3151">mod-helper</a> <a class="Bound" href="Agda.Builtin.Nat.html#3162" id="3162">k</a> <a class="Bound" href="Agda.Builtin.Nat.html#3164" id="3164">m</a> <a class="Symbol" id="3166">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="3167">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#3171" id="3171">n</a><a class="Symbol" id="3172">)</a> <a class="Symbol" id="3174">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="3175">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#3179" id="3179">j</a><a class="Symbol" id="3180">)</a> <a class="Symbol" id="3182">=</a> <a class="Function" href="Agda.Builtin.Nat.html#3023" id="3184">mod-helper</a> <a class="Symbol" id="3195">(</a><a class="InductiveConstructor" href="Agda.Builtin.Nat.html#217" id="3196">suc</a> <a class="Bound" href="Agda.Builtin.Nat.html#3162" id="3200">k</a><a class="Symbol" id="3201">)</a> <a class="Bound" href="Agda.Builtin.Nat.html#3164" id="3203">m</a> <a class="Bound" href="Agda.Builtin.Nat.html#3171" id="3205">n</a> <a class="Bound" href="Agda.Builtin.Nat.html#3179" id="3207">j</a>

<a class="Symbol" id="3210">{-#</a> <a class="Keyword" id="3214">BUILTIN</a> <a class="Keyword" id="3222">NATMODSUCAUX</a> <a class="Primitive" href="Agda.Builtin.Nat.html#3023" id="3235">mod-helper</a> <a class="Symbol" id="3246">#-}</a>

<a class="Comment" id="3251">-- Proof of the invariant by induction on n.</a>
<a class="Comment" id="3296">--</a>
<a class="Comment" id="3299">--   clause 1: mod-helper k m 0 j</a>
<a class="Comment" id="3333">--           = k                               by definition</a>
<a class="Comment" id="3394">--           = (0 + k) mod (1 + m)             since m = k + j, thus k &lt; m</a>
<a class="Comment" id="3469">--</a>
<a class="Comment" id="3472">--   clause 2: mod-helper k m (1 + n) 0</a>
<a class="Comment" id="3512">--           = mod-helper 0 m n m              by definition</a>
<a class="Comment" id="3573">--           = (n + 0)       mod (1 + m)       by induction hypothesis</a>
<a class="Comment" id="3644">--           = (n + (1 + m)) mod (1 + m)       by expansion</a>
<a class="Comment" id="3704">--           = (1 + n) + k)  mod (1 + m)       since k = m (as l = 0)</a>
<a class="Comment" id="3774">--</a>
<a class="Comment" id="3777">--   clause 3: mod-helper k m (1 + n) (1 + j)</a>
<a class="Comment" id="3823">--           = mod-helper (1 + k) m n j        by definition</a>
<a class="Comment" id="3884">--           = (n + (1 + k)) mod (1 + m)       by induction hypothesis</a>
<a class="Comment" id="3955">--           = ((1 + n) + k) mod (1 + m)       by commutativity</a>
<a class="Comment" id="4019">--</a>
<a class="Comment" id="4022">-- Q.e.d.</a>
</pre></div></body></html>